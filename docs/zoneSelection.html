<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Выбор зоны - Праздник в каждый дом</title>
    <link href="../CSS/css.css" rel="stylesheet">
    <script src="../JS/js.js" defer></script>
    
    <script>
       // Функция для получения параметров из URL и обновления информации
        var date = "";
        var adults = "";
        var children = "";
        var region = "";

        function updateSearchInfo() {
            const urlParams = new URLSearchParams(window.location.search);
            date = urlParams.get('date');
            adults = urlParams.get('adults');
            children = urlParams.get('children');
            region = urlParams.get('region');
            
            // Обновляем информацию на странице
            const infoElement = document.getElementById('info-p');
            if (infoElement) {
                infoElement.textContent = `ул. Праздничная, 15 • ${formatDate(date)} • ${adults} взрослых, ${children} детей`;
            }
        }
        
        function bookZone(zoneName, price) {
            // Сохраняем выбранную зону в localStorage
            localStorage.setItem('selectedZone', zoneName);
            localStorage.setItem('selectedPrice', price);
            localStorage.setItem('selectedDate', formatDate(date));
            localStorage.setItem('selectedChildren', children);
            localStorage.setItem('selectedAdults', adults);
            localStorage.setItem('selectedRegion', region);
            // Переходим на страницу бронирования
            window.location.href = 'booking.html';
        }
        
        // Преобразуем код региона в название
        function getRegionName(regionCode) {
            const regions = {
                'moscow': 'Москва',
                'spb': 'Санкт-Петербург',
                'kazan': 'Казань',
                'ekb': 'Екатеринбург'
            };
            return regions[regionCode] || regionCode;
        }
        
        // Форматируем дату в привычный вид
        function formatDate(dateString) {
            if (!dateString) return 'Дата не указана';
            
            const date = new Date(dateString);
            const options = { day: 'numeric', month: 'long', year: 'numeric' };
            return date.toLocaleDateString('ru-RU', options);
        }

        // Вызываем функцию при загрузке страницы
        window.onload = updateSearchInfo;
    </script>
</head>
<body>
    <!-- Шапка сайта -->
    <header class="header">
        <div class="container header-content">
            <div class="logo">
                <img src="https://i.pinimg.com/736x/14/70/67/147067dd0bc6f00aec1ba41aedbe9d50.jpg" alt="Праздник в каждый дом"> Праздник в каждый дом
            </div>
            <nav class="main-menu">
                <ul>
                    <li><a href="index.html">Главная страница</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Основное содержимое -->
    <main class="container zone-selection">
        <a href="/search-results" class="back-link">← Назад к результатам поиска</a>
        
        <div class="location-header">
            <img src="https://images.unsplash.com/photo-1571896349842-33c89424de2d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Детский центр Волшебный замок">
            <div class="location-title">
                <h2>Детский центр "Волшебный замок"</h2>
                <p id="info-p">ул. Праздничная, 15 • 15 декабря 2023 • 5 взрослых, 10 детей</p>
            </div>
        </div>
        
        <h2>Доступные зоны для бронирования</h2>
        
        <div class="zones-container">
            <!-- Зона 1 -->
            <div class="zone-card">
                <div class="zone-image">
                    <img src="https://images.unsplash.com/photo-1588072432836-e10032774350?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Зона Принцесс">
                </div>
                <div class="zone-details">
                    <h3 class="zone-title">Зона Принцесс</h3>
                    <p class="zone-capacity">Вместимость: до 20 человек</p>
                    <p class="zone-price">Цена: 8 000 ₽</p>
                    
                    <ul class="zone-features">
                        <li>Тематическое оформление</li>
                        <li>Аниматор на 2 часа</li>
                        <li>Детский банкет</li>
                        <li>Фотосессия</li>
                    </ul>
                    
                    <button onclick="bookZone('Зона Принцесс', '8 000 ₽')" class="select-zone-btn">Выбрать эту зону</button>
                </div>
            </div>
            
            <!-- Зона 2 -->
            <div class="zone-card">
                <div class="zone-image">
                    <img src="https://images.unsplash.com/photo-1567599753824-17d1bb5ed9fa?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Зона Супергероев">
                </div>
                <div class="zone-details">
                    <h3 class="zone-title">Зона Супергероев</h3>
                    <p class="zone-capacity">Вместимость: до 25 человек</p>
                    <p class="zone-price">Цена: 10 000 ₽</p>
                    
                    <ul class="zone-features">
                        <li>Тематическое оформление</li>
                        <li>2 аниматора на 3 часа</li>
                        <li>Костюмы для детей</li>
                        <li>Квест-игра</li>
                    </ul>
                    
                    <button onclick="bookZone('Зона Супергероев', '10 000 ₽')" class="select-zone-btn">Выбрать эту зону</button>
                </div>
            </div>
            
            <!-- Зона 3 -->
            <div class="zone-card">
                <div class="zone-image">
                    <img src="https://cdn.culture.ru/images/6c8db42c-0eaf-5fa3-a37f-e326845fc73c" alt="Зона Творчества">
                </div>
                <div class="zone-details">
                    <h3 class="zone-title">Зона Творчества</h3>
                    <p class="zone-capacity">Вместимость: до 15 человек</p>
                    <p class="zone-price">Цена: 7 500 ₽</p>
                    
                    <ul class="zone-features">
                        <li>Мастер-классы</li>
                        <li>Все материалы включены</li>
                        <li>Роспись футболок</li>
                        <li>Создание мультфильма</li>
                    </ul>
                    
                    <button onclick="bookZone('Зона Творчества', '7 500 ₽')" class="select-zone-btn">Выбрать эту зону</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Подвал сайта -->
    <footer class="footer">
        <div class="container footer-content">
            <div class="footer-phone">
                <p>8 (800) 111-20-20</p>
            </div>

            <div class="copyright">
                <p>© Праздник в каждый дом, 2025</p>
            </div>
        </div>
    </footer>
</body>
</html>